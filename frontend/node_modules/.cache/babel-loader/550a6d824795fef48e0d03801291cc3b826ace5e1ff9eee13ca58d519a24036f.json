{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor\napi.interceptors.request.use(config => {\n  // For demo purposes, use a mock user ID\n  if (!config.headers['X-User-Id']) {\n    config.headers['X-User-Id'] = `user_${Date.now()}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Response interceptor\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  console.error('API Error:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  return Promise.reject(error);\n});\n\n// Helper functions for common API calls\nexport const bookingAPI = {\n  checkAvailability: data => api.post('/bookings/availability', data),\n  createBooking: data => api.post('/bookings', data),\n  getUserBookings: userId => api.get(`/bookings/user/${userId}`),\n  cancelBooking: bookingId => api.put(`/bookings/${bookingId}/cancel`),\n  addToWaitlist: data => api.post('/bookings/waitlist', data),\n  simulatePrice: data => api.post('/pricing/simulate', data) // Changed from /bookings/price/simulate\n};\nexport const courtAPI = {\n  getAllCourts: () => api.get('/courts'),\n  getCourtSlots: (courtId, date) => api.get(`/courts/${courtId}/slots/${date}`),\n  getCourtDetails: courtId => api.get(`/courts/${courtId}`)\n};\nexport const availabilityAPI = {\n  getAvailableSlots: (date, courtType) => api.get(`/availability/slots/${date}${courtType ? `?court_type=${courtType}` : ''}`),\n  getEquipmentAvailability: (startTime, endTime) => api.get(`/availability/equipment/${startTime}/${endTime}`),\n  getCoachAvailability: date => api.get(`/availability/coaches/${date}`)\n};\nexport const adminAPI = {\n  getCourts: () => api.get('/admin/courts'),\n  createCourt: data => api.post('/admin/courts', data),\n  updateCourt: (id, data) => api.put(`/admin/courts/${id}`, data),\n  getEquipment: () => api.get('/admin/equipment'),\n  createEquipment: data => api.post('/admin/equipment', data),\n  getCoaches: () => api.get('/admin/coaches'),\n  createCoach: data => api.post('/admin/coaches', data),\n  getPricingRules: () => api.get('/admin/pricing-rules'),\n  createPricingRule: data => api.post('/admin/pricing-rules', data),\n  updatePricingRule: (id, data) => api.put(`/admin/pricing-rules/${id}`, data)\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","Date","now","error","Promise","reject","response","_error$response","console","data","message","bookingAPI","checkAvailability","post","createBooking","getUserBookings","userId","get","cancelBooking","bookingId","put","addToWaitlist","simulatePrice","courtAPI","getAllCourts","getCourtSlots","courtId","date","getCourtDetails","availabilityAPI","getAvailableSlots","courtType","getEquipmentAvailability","startTime","endTime","getCoachAvailability","adminAPI","getCourts","createCourt","updateCourt","id","getEquipment","createEquipment","getCoaches","createCoach","getPricingRules","createPricingRule","updatePricingRule"],"sources":["/home/ujjwal00/React-Project/Court-resoure-booking/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor\napi.interceptors.request.use(\n  (config) => {\n    // For demo purposes, use a mock user ID\n    if (!config.headers['X-User-Id']) {\n      config.headers['X-User-Id'] = `user_${Date.now()}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('API Error:', error.response?.data || error.message);\n    return Promise.reject(error);\n  }\n);\n\n// Helper functions for common API calls\nexport const bookingAPI = {\n  checkAvailability: (data) => api.post('/bookings/availability', data),\n  createBooking: (data) => api.post('/bookings', data),\n  getUserBookings: (userId) => api.get(`/bookings/user/${userId}`),\n  cancelBooking: (bookingId) => api.put(`/bookings/${bookingId}/cancel`),\n  addToWaitlist: (data) => api.post('/bookings/waitlist', data),\n  simulatePrice: (data) => api.post('/pricing/simulate', data), // Changed from /bookings/price/simulate\n};\n\nexport const courtAPI = {\n  getAllCourts: () => api.get('/courts'),\n  getCourtSlots: (courtId, date) => api.get(`/courts/${courtId}/slots/${date}`),\n  getCourtDetails: (courtId) => api.get(`/courts/${courtId}`),\n};\n\nexport const availabilityAPI = {\n  getAvailableSlots: (date, courtType) => \n    api.get(`/availability/slots/${date}${courtType ? `?court_type=${courtType}` : ''}`),\n  getEquipmentAvailability: (startTime, endTime) => \n    api.get(`/availability/equipment/${startTime}/${endTime}`),\n  getCoachAvailability: (date) => api.get(`/availability/coaches/${date}`),\n};\n\nexport const adminAPI = {\n  getCourts: () => api.get('/admin/courts'),\n  createCourt: (data) => api.post('/admin/courts', data),\n  updateCourt: (id, data) => api.put(`/admin/courts/${id}`, data),\n  \n  getEquipment: () => api.get('/admin/equipment'),\n  createEquipment: (data) => api.post('/admin/equipment', data),\n  \n  getCoaches: () => api.get('/admin/coaches'),\n  createCoach: (data) => api.post('/admin/coaches', data),\n  \n  getPricingRules: () => api.get('/admin/pricing-rules'),\n  createPricingRule: (data) => api.post('/admin/pricing-rules', data),\n  updatePricingRule: (id, data) => api.put(`/admin/pricing-rules/${id}`, data),\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}